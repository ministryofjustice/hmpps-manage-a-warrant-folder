{% extends "../../partials/layout.njk" %}

{% set pageTitle = applicationName + " - Home" %}
{% set mainClasses = "app-container govuk-body" %}

{% block content %}
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-full govuk-!-padding-6">
            {% if model.message %}
                <div class="govuk-notification-banner govuk-notification-banner--success" role="alert" aria-labelledby="govuk-notification-banner-title" data-module="govuk-notification-banner">
                    <div class="govuk-notification-banner__header">
                        <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">
                                Success
                            </h2>
                    </div>
                    <div class="govuk-notification-banner__content">
                        <h3 class="govuk-notification-banner__heading">
                            {{model.message.days}} days of {{model.message.type.text.toLowerCase()}} have been applied
                            </h3>
                        <p class="govuk-body">The adjustments have been saved in NOMIS. You can continue to add adjustments for Joe Bloggs.</p>
                        <p class="govuk-body">You must recalculate the release dates once all adjustments have been applied.
                                <a href="{{model.calculateReleaseDatesUrl()}}" class="govuk-notification-banner__link">Calculate release date</a>
                        </p>

                    </div>
                </div>
            {% endif %}
            <div class="moj-page-header-actions">

                <div class="moj-page-header-actions__title">
                    <h1 class="govuk-heading-xl">
                        <span class="govuk-caption-xl">Adjustments</span>Review and apply adjustments</h1>
                </div>
            </div>

            <p class="govuk-body">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                    </p>
        </div>
    </div>

    <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">
            <h2 class="govuk-heading-m govuk-!-padding-left-4">
                        Deductions
                    </h2>
            <div class="adjustment-card-container govuk-body">
                {% for adjustmentType in model.deductions()%}
                    <div class="adjustment-card">
                        <div class="adjustment-card_heading ">
                            <h2 class="govuk-heading-s adj-card-heading govuk-!-margin-bottom-0">{{adjustmentType.text}}</h2>
                        </div>
                        <div class="adjustment-card_content">
                            <span class="count govuk-body">{{model.getTotalDays(adjustmentType)}}</span>
                            <span>Days</span>
                            <ul class="govuk-list govuk-!-padding-top-3">
                                <li>
                                    <a href="/adjustments/{{model.prisonerDetail.offenderNo}}/{{adjustmentType.url}}">Add new{% if model.displayReview(adjustmentType) %}({{model.getTotalDaysRelevantRemand()}} days for review){% endif %}
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
        <div class="govuk-grid-row govuk-!-padding-top-8">
            <div class="govuk-grid-column-full">
                <h2 class="govuk-heading-m govuk-!-padding-left-4">
                        Additions
                    </h2>
                <div class="adjustment-card-container govuk-body">
                    {% for adjustmentType in model.additions()%}
                        <div class="adjustment-card">
                            <div class="adjustment-card_heading ">
                                <h2 class="govuk-heading-s adj-card-heading govuk-!-margin-bottom-0">{{adjustmentType.text}}</h2>
                            </div>
                            <div class="adjustment-card_content">
                                <span class="count govuk-body">{{model.getTotalDays(adjustmentType)}}</span>
                                <span>Days</span>
                                <ul class="govuk-list govuk-!-padding-top-3">
                                    <li>
                                        <a href="/adjustments/{{model.prisonerDetail.offenderNo}}/{{adjustmentType.url}}">Add new{% if adjustmentType.value == 'REMAND' %}({{model.getTotalDaysRelevantRemand()}} days for review){% endif %}
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    {% endblock %}